--- samba-4.1.6/libcli/smbreadline/smbreadline.c.orig	2013-06-13 11:21:02.000000000 +0200
+++ samba-4.1.6/libcli/smbreadline/smbreadline.c	2014-03-12 20:41:16.503527437 +0100
@@ -141,7 +141,7 @@
 
 #if HAVE_DECL_RL_EVENT_HOOK
 	if (callback)
-		rl_event_hook = (Function *)callback;
+		rl_event_hook = (rl_hook_func_t *)callback;
 #endif
 	ret = readline(prompt);
 	if (ret && *ret)
